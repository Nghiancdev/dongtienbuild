(this.webpackJsonpsaha_web=this.webpackJsonpsaha_web||[]).push([[47,61],{793:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var s,a=n(51),c=n(3),r=n(20),i=n(6),d=n(10),l=n(4),o=n(9),u=n(1),h=n(2),p=n(811),b=n(791),j=n(11),m=n(0),O=j.a.div(s||(s=Object(d.a)(["\n  .address-form {\n    border-radius: 10px;\n    .from-list {\n      column-gap: 10px;\n      label {\n        width: auto !important;\n      }\n    }\n    input,\n    select {\n      border-radius: 5px !important;\n    }\n  }\n  .addressForm-btn {\n    margin-top: 20px;\n    button {\n      border-radius: 5px;\n      cursor: pointer;\n      height: 35px;\n      width: 120px;\n    }\n  }\n  .select-address {\n    width: 100%;\n    border: 1px solid #e4e4e4;\n    border-radius: 5px;\n    margin-top: 1em;\n    margin-bottom: 2px;\n    .css-1s2u09g-control {\n      border: none !important;\n      &:hover {\n        border: none !important;\n        box-shadow: none !important;\n      }\n    }\n  }\n"])));function v(e){var t,n,s,d,j,v,f=Object(p.a)({mode:"onChange"}),x=f.reset,g=f.register,y=f.handleSubmit,C=f.formState.errors,S=null!==(t=e.customClass)&&void 0!==t?t:"",k=null!==(n=e.currentAddress)&&void 0!==n?n:{},w=Object(l.b)(),N=Object(l.c)((function(e){return e.app.addressData.provinces})),A=Object(l.c)((function(e){return e.app.addressData.districts})),P=Object(l.c)((function(e){return e.app.addressData.wards})),_=Object(h.useState)(null),D=Object(i.a)(_,2),T=D[0],E=D[1],z=Object(h.useState)(null),L=Object(i.a)(z,2),U=L[0],q=L[1],B=Object(h.useState)(null),H=Object(i.a)(B,2),F=H[0],M=H[1],I=Object(h.useState)(""),K=Object(i.a)(I,2),G=K[0],J=K[1],W=Object(h.useState)(""),X=Object(i.a)(W,2),Q=X[0],V=X[1],Y=Object(h.useState)(!1),$=Object(i.a)(Y,2),R=$[0],Z=$[1],ee=Object(h.useState)(""),te=Object(i.a)(ee,2),ne=te[0],se=te[1],ae=Object(h.useState)(""),ce=Object(i.a)(ae,2),re=ce[0],ie=ce[1],de=Object(h.useState)(""),le=Object(i.a)(de,2),oe=le[0],ue=le[1];Object(h.useEffect)((function(){var e,t;(x({}),k&&null!=k.id)?(w(o.a.getDistrictsList(k.province)),w(o.a.getWardsList(k.district)),E({value:k.province,label:k.province_name}),q({value:k.district,label:k.district_name}),M({value:k.wards,label:k.wards_name}),J(k.name),V(k.phone?k.phone:""),se(k.email),ie(null!==(e=k.address_detail)&&void 0!==e?e:""),Z(null!==(t=k.isDefault)&&void 0!==t?t:k.is_default)):(M(null),E(null),q(null),J(""),V(""),se(""),ie(""),Z(!1))}),[k,w]);function he(){if(G&&Q&&re&&null!==T&&void 0!==T&&T.value&&null!==U&&void 0!==U&&U.value&&null!==F&&void 0!==F&&F.value){var t={name:G,address_detail:re,country:1,province:T.value,district:U.value,wards:F.value,phone:Q,email:ne,is_default:R};if(!k||null==k.id)return w(o.a.changePopup(u.constants.MESSAGE_POPUP)),void e.handleAddAddress(t);w(o.a.changePopup(u.constants.MESSAGE_POPUP)),t.id=k.id,e.handleUpdateAddress(t),e.handleClose(),e.isEditDefault&&e.setCheckShipping(0)}else ue("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin !")}function pe(e){var t=e.reduce((function(e,t){return[].concat(Object(r.a)(e),[{value:t.id,label:t.name}])}),[]);return t}return Object(m.jsx)(O,{className:"form-container "+S,children:Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),y(he)},children:Object(m.jsxs)("div",{className:"address-form",children:[1==e.showTitle&&Object(m.jsxs)("div",{className:"row",style:{width:"100%",justifyContent:"space-between",padding:11,alignItems:"center"},children:[Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:e.handleBack,children:[Object(m.jsx)("button",{children:Object(m.jsx)("i",{className:"fas fa-angle-left",style:{fontSize:25,cursor:"pointer"}})}),"\xa0 \xa0",Object(m.jsx)("h4",{children:e.isAdd?"Th\xeam \u0111\u1ecba ch\u1ec9":"S\u1eeda \u0111\u1ecba ch\u1ec9"})]}),Object(m.jsx)("button",{class:"voucher-address-delete",style:{fontSize:"23px",cursor:"pointer",color:"rgb(153, 153, 153)"},onClick:e.handleBack,children:Object(m.jsx)("i",{class:"far fa-times-circle","aria-hidden":"true"})})]}),Object(m.jsx)("input",Object(c.a)({type:"text",name:"name",id:"name",value:G,placeholder:"T\xean"},g("name",{onChange:function(e){J(e.target.value)},required:!0}))),C.name&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"Xin m\u1eddi b\u1ea1n nh\u1eadp t\xean"}),Object(m.jsx)("input",Object(c.a)({type:"number",name:"phone",id:"phone",value:Q,placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},g("phone",(s={onChange:function(e){V(e.target.value)},required:!0,pattern:/^\d+$/},Object(a.a)(s,"pattern",/((09|03|07|08|05)+([0-9]{8})\b)/),Object(a.a)(s,"minLength",10),s)))),0!==Object.keys(C).length&&Object(m.jsxs)("span",{children:["required"===(null===(d=C.phone)||void 0===d?void 0:d.type)&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),"pattern"===(null===(j=C.phone)||void 0===j?void 0:j.type)&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}),"minLength"===(null===(v=C.phone)||void 0===v?void 0:v.type)&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"})]}),Object(m.jsx)(b.a,{options:pe(N),placeholder:"T\u1ec9nh/Th\xe0nh ph\u1ed1...",className:"select-address",onChange:function(e){var t=e.value;E(e),M(null),q(null),w(o.a.getDistrictsList(t))},value:T,noOptionsMessage:function(){return"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"}}),Object(m.jsx)(b.a,{options:pe(A),placeholder:"Qu\u1eadn/Huy\u1ec7n...",className:"select-address",onChange:function(e){var t=e.value;q(e),M(null),w(o.a.getWardsList(t))},value:U,noOptionsMessage:function(){return"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"}}),Object(m.jsx)(b.a,{options:pe(P),placeholder:"Ph\u01b0\u1eddng/X\xe3...",className:"select-address",onChange:function(e){M(e)},value:F,noOptionsMessage:function(){return"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"}}),Object(m.jsx)("input",{className:"address",type:"text",name:"detail",id:"detail",value:re,placeholder:"\u0110\u1ecba ch\u1ec9",onChange:function(e){ie(e.target.value)}}),Object(m.jsx)("div",{className:"err-msg",children:oe}),Object(m.jsxs)("div",{class:"from-list",style:{border:"none"},children:[Object(m.jsx)("input",{onChange:function(e){Z(e.target.checked)},name:"sex",type:"checkbox",id:"male",checked:R,style:{width:20,marginTop:"3px"}}),Object(m.jsx)("label",{htmlFor:"male",style:{width:150},children:"C\xe0i \u0111\u1eb7t \u0111\u1ecba ch\u1ec9 m\u1eb7c \u0111\u1ecbnh"})]}),Object(m.jsxs)("div",{className:"addressForm-btn",children:[Object(m.jsx)("button",{className:"save-btn",onClick:y(he),children:k&&null!=k.id?"C\u1eadp nh\u1eadt":"L\u01b0u \u0111\u1ecba ch\u1ec9"}),Object(m.jsx)("button",{className:"cancel-btn",onClick:function(){return e.handleBack()},children:"H\u1ee7y b\u1ecf"})]})]})})})}},865:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var s,a=n(3),c=n(6),r=n(10),i=n(372),d=n(8),l=n(4),o=n(2),u=n(793),h=n(12),p=n(11),b=n(0),j=p.a.div(s||(s=Object(r.a)(["\n  border-radius: 10px !important;\n  transition: all 0.5s;\n  .add_address {\n    transition: all 0.3s;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n  .address-delete {\n    transition: all 0.3s;\n    &:hover {\n      color: #706d6d !important;\n    }\n  }\n"])));function m(e){var t=Object(l.c)((function(e){return e.user.address})),n=Object(o.useState)(!1),s=Object(c.a)(n,2),r=s[0],p=s[1],m=Object(o.useState)(!1),O=Object(c.a)(m,2),v=O[0],f=O[1],x=Object(o.useState)(!1),g=Object(c.a)(x,2),y=g[0],C=g[1],S=Object(l.b)();function k(){p(!1),e.handleClosePopup()}function w(e){S(h.a.updateUserAddress(e))}return 1==e.isAdd?Object(b.jsx)(j,{className:"address-popup",children:Object(b.jsx)("div",{style:{maxHeight:r?"10px":null},children:Object(b.jsx)("div",{className:"address-page container",style:{minHeight:0},children:"address"===e.currentPopup&&e.customClass&&Object(b.jsx)(u.default,{isAdd:e.isAdd,showTitle:!0,currentAddress:{},customClass:"active",handleClose:k,handleCloseForm:k,handleBack:function(){return p(!r)},handleAddAddress:function(e){console.log(e),S(h.a.addUserAddress(Object(a.a)(Object(a.a)({},e),{},{fromCart:!0})))},handleUpdateAddress:w})})})}):Object(b.jsxs)(j,{className:"address-popup",style:{visibility:"address"===e.currentPopup&&e.customClass?"visible":"hidden",opacity:"address"===e.currentPopup&&e.customClass?1:0,transform:"scale(".concat(e.currentPopup&&e.customClass?1:0,")"),display:"address"!==e.currentPopup?"none":"table"},children:[Object(b.jsx)("div",{style:{display:r?"block":"none",maxHeight:r?"10px":null},children:Object(b.jsx)("div",{className:"address-page container",style:{},children:"address"===e.currentPopup&&e.customClass&&Object(b.jsx)(u.default,{showTitle:!0,currentAddress:v,customClass:"active",handleClose:k,handleCloseForm:k,handleBack:function(){return p(!r)},handleUpdateAddress:w,isEditDefault:y,setCheckShipping:e.setCheckShipping})})}),Object(b.jsxs)("div",{style:{display:r?"none":"block",maxHeight:"70vh",overflowY:"auto"},children:[Object(b.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},children:[Object(b.jsx)("h4",{children:"\u0110\u1ecba ch\u1ec9 giao h\xe0ng"}),Object(b.jsx)("button",{className:"address-delete",onClick:e.handleClosePopup,style:{cursor:"pointer",color:"#999"},children:Object(b.jsx)("i",{className:"far fa-times-circle",style:{fontSize:23}})})]}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{style:{marginTop:"20px"},children:t.list.map((function(t,n){return Object(b.jsx)(i.a,{id:t.id,address:t,name:t.name,isDefault:t.is_default,address_detail:t.address_detail,province:t.province,provinceName:t.province_name,district:t.district,districtName:t.district_name,wards:t.wards,wardName:t.wards_name,phone:t.phone,handleClosePopup:e.handleClosePopup,selectAddress:e.selectAddress,data:t,setIsEditDefault:C,onEdit:function(){f(t),p(!0)},setCheckShipping:e.setCheckShipping},n)}))})}),Object(b.jsx)("br",{}),Object(b.jsxs)(d.b,{to:"/dia-chi?c=true",children:[" ",Object(b.jsx)("span",{className:"add_address",style:{color:"blue",cursor:"pointer"},children:"Th\xeam \u0111\u1ecba ch\u1ec9"})]})]})]})}}}]);