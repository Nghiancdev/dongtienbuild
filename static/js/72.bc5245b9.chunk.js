(this.webpackJsonpsaha_web=this.webpackJsonpsaha_web||[]).push([[72],{1084:function(e,n,t){"use strict";t.r(n);var c=t(10),i=t(2),s=t.n(i),o=t(4),r=t(7),d=t(1),a=t(9),l=(t(195),t(31)),j=t(58),h=t.n(j),u=function(e){return h()(e).format("HH:mm:ss DD-MM-YYYY")};var m,b=t(11),_=t(0),f=s.a.lazy((function(){return t.e(73).then(t.bind(null,1079))})),O=s.a.lazy((function(){return Promise.resolve().then(t.bind(null,117))})),p=b.a.div(m||(m=Object(c.a)(["\n  .note {\n    color: grey;\n    font-size: 13px;\n    max-width: 250px;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .classify {\n    color: #414040;\n    font-size: 13px;\n  }\n"])));n.default=function(e){var n,t=Object(o.b)(),c=Object(o.c)((function(e){return e.cart.orderInfo})),j=Object(o.c)((function(e){return e.app.appTheme})),h=Object(o.c)((function(e){return e.user.badges})),m=Object(i.useRef)(null);function b(e){var n=c.info.line_items.filter((function(n){return n.product.id===e.id}));return n.length>0&&!1===n[0].reviewed}function x(){var e=m.current.offsetTop;window.scroll({top:e,behavior:"smooth"})}return Object(i.useEffect)((function(){document.title="Th\xf4ng tin \u0111\u01a1n h\xe0ng ".concat(e.match.params.id),c.status===d.constants.LOADING&&t(l.a.getOrderInfo(e.match.params.id))})),console.log(c),Object(_.jsx)(s.a.Fragment,{children:c.status===d.constants.LOADING?null:Object(_.jsxs)(s.a.Fragment,{children:[Object(_.jsx)(p,{className:"order-info-page",children:Object(_.jsxs)("div",{className:"container",children:[Object(_.jsxs)("div",{className:"title",children:["Chi ti\u1ebft \u0111\u01a1n h\xe0ng ".concat(c.info.order_code)," -"," ",Object(_.jsxs)("span",{children:[" ",c.info.order_status_name]})]}),"WAITING_FOR_PROGRESSING"===c.info.order_status_code&&Object(_.jsx)("button",{style:{padding:"6px 8px",borderRadius:"0.25em",color:"white",marginTop:"0.5em",background:"rgb(193 181 183)"},onClick:function(){t(l.a.cancelOrder({order_code:c.info.order_code}))},children:"H\u1ee7y \u0111\u01a1n h\xe0ng"}),Object(_.jsx)("div",{className:"date",children:null==c.info.order_code_refund?"Ng\xe0y \u0111\u1eb7t h\xe0ng: ".concat(u(c.info.created_at)):"Ng\xe0y ho\xe0n h\xe0ng: ".concat(u(c.info.created_at))}),Object(_.jsxs)("div",{className:"row",style:{width:"fit-content"},children:[Object(_.jsxs)("div",{className:"date",children:[" ","".concat(c.info.payment_status_name)]}),null==c.info.order_code_refund&&"COMPLETED"===c.info.order_status_code&&(c.info.reviewed?Object(_.jsx)("div",{style:{cursor:"pointer"},onClick:x,className:"date",children:"\xa0| \u0110\xe3 \u0111\xe1nh gi\xe1"}):Object(_.jsx)("div",{style:{cursor:"pointer",color:"#4f93d5"},onClick:x,className:"date",children:"\xa0| \u0110\xe1nh gi\xe1 s\u1ea3n ph\u1ea9m"}))]}),null!=c.info.order_code_refund&&Object(_.jsxs)("span",{style:{color:"red",display:"block"},children:["\u0110\u01a1n ho\xe0n ti\u1ec1n t\u1eeb \u0111\u01a1n:"," ",Object(_.jsxs)("span",{id:"cart_code",children:[Object(_.jsxs)("a",{href:"/don-hang/".concat(c.info.order_code_refund),children:["#",c.info.order_code_refund]})," "]})]}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsxs)("div",{className:"user-info",children:[Object(_.jsx)("div",{className:"title",children:"\u0110\u1ecaA CH\u1ec8 NG\u01af\u1edcI NH\u1eacN"}),Object(_.jsxs)("div",{className:"info",children:[Object(_.jsx)("h4",{children:c.info.customer_address.name}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{children:"\u0110\u1ecba ch\u1ec9: "}),(null!==(n=c.info.customer_address.address_detail)&&void 0!==n?n:"")+", "+c.info.customer_address.wards_name+", "+c.info.customer_address.district_name+", "+c.info.customer_address.province_name+", "]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{children:"\u0110i\u1ec7n tho\u1ea1i: "})," ",c.info.customer_address.phone]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{children:"Ghi ch\xfa: "})," ",c.info.customer_note]})]})]}),Object(_.jsxs)("div",{className:"shipment-info",children:[Object(_.jsx)("div",{className:"title",children:"H\xccNH TH\u1ee8C GIAO H\xc0NG"}),Object(_.jsxs)("div",{className:"info",children:[Object(_.jsx)("div",{children:c.info.shipper_name}),Object(_.jsx)("div",{children:"Ph\xed v\u1eadn chuy\u1ec3n: ".concat(Object(r.e)(c.info.total_shipping_fee))}),c.info.ship_discount_amount>0&&Object(_.jsx)("div",{children:"Gi\u1ea3m ph\xed v\u1eadn chuy\u1ec3n: ".concat(Object(r.e)(c.info.ship_discount_amount))})]})]}),Object(_.jsxs)("div",{className:"payment-info",children:[Object(_.jsx)("div",{className:"title",children:"THANH TO\xc1N"}),Object(_.jsxs)("div",{className:"info",children:[Object(_.jsx)("div",{children:c.info.payment_partner_name}),Object(_.jsx)("div",{children:"T\u1ed5ng gi\xe1 tr\u1ecb s\u1ea3n ph\u1ea9m:  ".concat(Object(r.e)(c.info.total_before_discount))}),c.info.product_discount_amount>0&&Object(_.jsx)("div",{children:"Gi\u1ea3m gi\xe1 s\u1ea3n ph\u1ea9m:  ".concat(Object(r.e)(c.info.product_discount_amount))}),c.info.combo_discount_amount>0&&Object(_.jsx)("div",{children:"Gi\u1ea3m combo:  ".concat(Object(r.e)(c.info.combo_discount_amount))}),c.info.voucher_discount_amount>0&&Object(_.jsx)("div",{children:"Gi\u1ea3m voucher:  ".concat(Object(r.e)(c.info.voucher_discount_amount))}),c.info.bonus_points_amount_used>0&&Object(_.jsx)("div",{children:"S\u1eed d\u1ee5ng xu:  ".concat(Object(r.e)(c.info.bonus_points_amount_used))}),c.info.vat>0&&Object(_.jsx)("div",{children:"VAT:  ".concat(Object(r.e)(c.info.vat))}),Object(_.jsx)("div",{children:"Thanh to\xe1n:  ".concat(Object(r.e)(c.info.total_final))}),"UNPAID"===c.info.payment_status_code&&["WAITING_FOR_PROGRESSING","PACKING"].includes(c.info.order_status_code)&&Object(_.jsx)("button",{onClick:function(){t({type:d.constants.CHANGE_POPUP,popupType:d.constants.ORDER_POPUP,orderPopupTitle:{title:"Thanh to\xe1n!",subTitle:"H\xe3y thanh to\xe1n ngay ho\u1eb7c thay \u0111\u1ed5i h\xecnh th\u1ee9c thanh to\xe1n."},paymentMethod:{payment_method_name:c.info.payment_method_name,payment_method_id:c.info.payment_method_id,order_code:c.info.order_code,payment_partner_name:c.info.payment_partner_name,payment_partner_id:c.info.payment_partner_id,orderInfo:c.info}})},style:{padding:"6px 8px",borderRadius:"0.25em",color:"white",marginTop:"0.5em",background:j.color_main_1},children:"Thanh to\xe1n"}),c.info.is_order_for_customer?Object(_.jsx)("div",{children:"Hoa h\u1ed3ng \u0111\u1eb7t \u0111\u01a1n h\u1ed9:  ".concat(Object(r.e)(c.info.total_commission_order_for_customer))}):null]})]})]}),Object(_.jsxs)("table",{ref:m,children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:"product",children:"S\u1ea3n ph\u1ea9m"}),Object(_.jsx)("th",{className:"prePrice",children:"Gi\xe1"}),Object(_.jsx)("th",{className:"number",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(_.jsx)("th",{className:"discount",children:"Gi\u1ea3m gi\xe1"}),Object(_.jsx)("th",{className:"price",children:"T\u1ea1m t\xednh"})]})}),Object(_.jsx)("tbody",{children:c.info.line_items_at_time.map((function(e,n){var i;return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{className:"product",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"image",children:Object(_.jsx)("div",{className:"img-container",children:Object(_.jsx)("img",{src:e.image_url,alt:"",style:{background:"url(/img/default_product.jpg)",backgroundSize:"contain"}})})}),Object(_.jsxs)("div",{className:"action",children:[Object(_.jsx)("div",{className:"name",children:e.name}),(null===(i=e.distributes_selected)||void 0===i?void 0:i.length)>0?Object(_.jsxs)("div",{className:"classify",children:[e.distributes_selected[0].name?"".concat(e.distributes_selected[0].name,": "):"",e.distributes_selected[0].value,e.distributes_selected[0].sub_element_distributes?" | ".concat(e.distributes_selected[0].sub_element_distributes):""]}):null,e.note?Object(_.jsx)("div",{className:"note",children:e.note}):null,"COMPLETED"===c.info.order_status_code&&Object(_.jsx)(s.a.Fragment,{children:null==c.info.order_code_refund&&b(e)&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{onClick:function(){return n=e,void t(a.a.changePopup(d.constants.RATTING_POPUP,"",{id:n.id,name:n.name,orderCode:c.info.order_code}));var n},children:"\u0110\xe1nh gi\xe1"}),Object(_.jsx)("span",{children:" | "})]})}),Object(_.jsx)("button",{onClick:function(){return n=e.id,void(window.location.href="/san-pham/".concat(n));var n},children:"Xem th\xf4ng tin"})]})]})}),Object(_.jsx)("td",{className:"prePrice",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(r.e)(e.before_discount_price)}),1===h.status_agency?Object(_.jsx)("div",{style:{textDecoration:"line-through",color:"#8d8b8b"},children:e.price_before_override>0?Object(r.e)(e.price_before_override):null}):null]})}),Object(_.jsx)("td",{className:"number",children:e.quantity}),Object(_.jsxs)("td",{className:"discount",children:[" ",Object(r.e)(e.before_discount_price-e.after_discount)]}),Object(_.jsx)("td",{className:"price",children:Object(r.e)(e.after_discount*e.quantity)})]},n)}))})]}),Object(_.jsxs)("div",{className:"mobile",children:[Object(_.jsx)("div",{className:"title",style:{marginTop:"0.25em",marginBottom:"0.25em"},children:"Th\xf4ng tin ki\u1ec7n h\xe0ng"}),c.info.line_items_at_time.map((function(e,n){return Object(_.jsx)(f,{id:e.id,name:e.name,image:e.image_url,number:e.quantity,price:e.after_discount,status:c.info.order_status_code},n)}))]})]})}),Object(_.jsx)(O,{})]})})}}}]);