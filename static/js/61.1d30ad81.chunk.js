(this.webpackJsonpsaha_web=this.webpackJsonpsaha_web||[]).push([[61],{793:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a,s=n(51),c=n(3),i=n(20),r=n(6),l=n(10),o=n(4),d=n(9),u=n(1),h=n(2),p=n(811),b=n(791),j=n(11),m=n(0),O=j.a.div(a||(a=Object(l.a)(["\n  .address-form {\n    border-radius: 10px;\n    .from-list {\n      column-gap: 10px;\n      label {\n        width: auto !important;\n      }\n    }\n    input,\n    select {\n      border-radius: 5px !important;\n    }\n  }\n  .addressForm-btn {\n    margin-top: 20px;\n    button {\n      border-radius: 5px;\n      cursor: pointer;\n      height: 35px;\n      width: 120px;\n    }\n  }\n  .select-address {\n    width: 100%;\n    border: 1px solid #e4e4e4;\n    border-radius: 5px;\n    margin-top: 1em;\n    margin-bottom: 2px;\n    .css-1s2u09g-control {\n      border: none !important;\n      &:hover {\n        border: none !important;\n        box-shadow: none !important;\n      }\n    }\n  }\n"])));function v(e){var t,n,a,l,j,v,f=Object(p.a)({mode:"onChange"}),g=f.reset,x=f.register,y=f.handleSubmit,S=f.formState.errors,k=null!==(t=e.customClass)&&void 0!==t?t:"",w=null!==(n=e.currentAddress)&&void 0!==n?n:{},C=Object(o.b)(),N=Object(o.c)((function(e){return e.app.addressData.provinces})),_=Object(o.c)((function(e){return e.app.addressData.districts})),P=Object(o.c)((function(e){return e.app.addressData.wards})),D=Object(h.useState)(null),A=Object(r.a)(D,2),L=A[0],q=A[1],z=Object(h.useState)(null),E=Object(r.a)(z,2),T=E[0],M=E[1],B=Object(h.useState)(null),F=Object(r.a)(B,2),K=F[0],U=F[1],G=Object(h.useState)(""),H=Object(r.a)(G,2),I=H[0],J=H[1],W=Object(h.useState)(""),X=Object(r.a)(W,2),Q=X[0],V=X[1],$=Object(h.useState)(!1),R=Object(r.a)($,2),Y=R[0],Z=R[1],ee=Object(h.useState)(""),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],se=Object(h.useState)(""),ce=Object(r.a)(se,2),ie=ce[0],re=ce[1],le=Object(h.useState)(""),oe=Object(r.a)(le,2),de=oe[0],ue=oe[1];Object(h.useEffect)((function(){var e,t;(g({}),w&&null!=w.id)?(C(d.a.getDistrictsList(w.province)),C(d.a.getWardsList(w.district)),q({value:w.province,label:w.province_name}),M({value:w.district,label:w.district_name}),U({value:w.wards,label:w.wards_name}),J(w.name),V(w.phone?w.phone:""),ae(w.email),re(null!==(e=w.address_detail)&&void 0!==e?e:""),Z(null!==(t=w.isDefault)&&void 0!==t?t:w.is_default)):(U(null),q(null),M(null),J(""),V(""),ae(""),re(""),Z(!1))}),[w,C]);function he(){if(I&&Q&&ie&&null!==L&&void 0!==L&&L.value&&null!==T&&void 0!==T&&T.value&&null!==K&&void 0!==K&&K.value){var t={name:I,address_detail:ie,country:1,province:L.value,district:T.value,wards:K.value,phone:Q,email:ne,is_default:Y};if(!w||null==w.id)return C(d.a.changePopup(u.constants.MESSAGE_POPUP)),void e.handleAddAddress(t);C(d.a.changePopup(u.constants.MESSAGE_POPUP)),t.id=w.id,e.handleUpdateAddress(t),e.handleClose(),e.isEditDefault&&e.setCheckShipping(0)}else ue("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin !")}function pe(e){var t=e.reduce((function(e,t){return[].concat(Object(i.a)(e),[{value:t.id,label:t.name}])}),[]);return t}return Object(m.jsx)(O,{className:"form-container "+k,children:Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),y(he)},children:Object(m.jsxs)("div",{className:"address-form",children:[1==e.showTitle&&Object(m.jsxs)("div",{className:"row",style:{width:"100%",justifyContent:"space-between",padding:11,alignItems:"center"},children:[Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:e.handleBack,children:[Object(m.jsx)("button",{children:Object(m.jsx)("i",{className:"fas fa-angle-left",style:{fontSize:25,cursor:"pointer"}})}),"\xa0 \xa0",Object(m.jsx)("h4",{children:e.isAdd?"Th\xeam \u0111\u1ecba ch\u1ec9":"S\u1eeda \u0111\u1ecba ch\u1ec9"})]}),Object(m.jsx)("button",{class:"voucher-address-delete",style:{fontSize:"23px",cursor:"pointer",color:"rgb(153, 153, 153)"},onClick:e.handleBack,children:Object(m.jsx)("i",{class:"far fa-times-circle","aria-hidden":"true"})})]}),Object(m.jsx)("input",Object(c.a)({type:"text",name:"name",id:"name",value:I,placeholder:"T\xean"},x("name",{onChange:function(e){J(e.target.value)},required:!0}))),S.name&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"Xin m\u1eddi b\u1ea1n nh\u1eadp t\xean"}),Object(m.jsx)("input",Object(c.a)({type:"number",name:"phone",id:"phone",value:Q,placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},x("phone",(a={onChange:function(e){V(e.target.value)},required:!0,pattern:/^\d+$/},Object(s.a)(a,"pattern",/((09|03|07|08|05)+([0-9]{8})\b)/),Object(s.a)(a,"minLength",10),a)))),0!==Object.keys(S).length&&Object(m.jsxs)("span",{children:["required"===(null===(l=S.phone)||void 0===l?void 0:l.type)&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),"pattern"===(null===(j=S.phone)||void 0===j?void 0:j.type)&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}),"minLength"===(null===(v=S.phone)||void 0===v?void 0:v.type)&&Object(m.jsx)("p",{style:{fontSize:13,color:"red"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"})]}),Object(m.jsx)(b.a,{options:pe(N),placeholder:"T\u1ec9nh/Th\xe0nh ph\u1ed1...",className:"select-address",onChange:function(e){var t=e.value;q(e),U(null),M(null),C(d.a.getDistrictsList(t))},value:L,noOptionsMessage:function(){return"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"}}),Object(m.jsx)(b.a,{options:pe(_),placeholder:"Qu\u1eadn/Huy\u1ec7n...",className:"select-address",onChange:function(e){var t=e.value;M(e),U(null),C(d.a.getWardsList(t))},value:T,noOptionsMessage:function(){return"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"}}),Object(m.jsx)(b.a,{options:pe(P),placeholder:"Ph\u01b0\u1eddng/X\xe3...",className:"select-address",onChange:function(e){U(e)},value:K,noOptionsMessage:function(){return"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3"}}),Object(m.jsx)("input",{className:"address",type:"text",name:"detail",id:"detail",value:ie,placeholder:"\u0110\u1ecba ch\u1ec9",onChange:function(e){re(e.target.value)}}),Object(m.jsx)("div",{className:"err-msg",children:de}),Object(m.jsxs)("div",{class:"from-list",style:{border:"none"},children:[Object(m.jsx)("input",{onChange:function(e){Z(e.target.checked)},name:"sex",type:"checkbox",id:"male",checked:Y,style:{width:20,marginTop:"3px"}}),Object(m.jsx)("label",{htmlFor:"male",style:{width:150},children:"C\xe0i \u0111\u1eb7t \u0111\u1ecba ch\u1ec9 m\u1eb7c \u0111\u1ecbnh"})]}),Object(m.jsxs)("div",{className:"addressForm-btn",children:[Object(m.jsx)("button",{className:"save-btn",onClick:y(he),children:w&&null!=w.id?"C\u1eadp nh\u1eadt":"L\u01b0u \u0111\u1ecba ch\u1ec9"}),Object(m.jsx)("button",{className:"cancel-btn",onClick:function(){return e.handleBack()},children:"H\u1ee7y b\u1ecf"})]})]})})})}}}]);